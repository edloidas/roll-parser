<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Result.html">Result</a></li><li><a href="Roll.html">Roll</a></li><li><a href="WodRoll.html">WodRoll</a></li></ul><h3>Global</h3><ul><li><a href="global.html#parse">parse</a></li><li><a href="global.html#parseAndRoll">parseAndRoll</a></li><li><a href="global.html#parseAndRollClassic">parseAndRollClassic</a></li><li><a href="global.html#parseAndRollSimple">parseAndRollSimple</a></li><li><a href="global.html#parseAndRollWod">parseAndRollWod</a></li><li><a href="global.html#parseClassicRoll">parseClassicRoll</a></li><li><a href="global.html#parseSimpleRoll">parseSimpleRoll</a></li><li><a href="global.html#parseWodRoll">parseWodRoll</a></li><li><a href="global.html#convert">convert</a></li><li><a href="global.html#random">random</a></li><li><a href="global.html#rollClassic">rollClassic</a></li><li><a href="global.html#rollWod">rollWod</a></li><li><a href="global.html#roll">roll</a></li></ul>
</nav>

<div id="main">



















    <section class="readme">
        <article><h1 align="center">Roll Parser</h1>

<p align="center">
Parser for classic (2d6+1), simple (2 6 1), and WoD (4d10!&gt;6f1) dice rolls.
</p>

<p><a href="https://travis-ci.org/edloidas/roll-parser"><img src="https://img.shields.io/travis/edloidas/roll-parser.svg?label=linux%20build" alt="Travis Build Status"></a>
<a href="https://ci.appveyor.com/project/edloidas/roll-parser"><img src="https://img.shields.io/appveyor/ci/edloidas/roll-parser.svg?label=windows%20build" alt="AppVeyor Build Status"></a>
<a href="https://coveralls.io/github/edloidas/roll-parser?branch=master"><img src="https://coveralls.io/repos/github/edloidas/roll-parser/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://david-dm.org/edloidas/roll-parser#info=devDependencies"><img src="https://david-dm.org/edloidas/roll-parser/dev-status.svg" alt="devDependency Status"></a>
<!-- [![Dependency Status][dep-image]][dep-url] --></p>
<p><a href="https://nodejs.org"><img src="https://img.shields.io/badge/node-≥%206.0.0-green.svg" alt="Node.js version"></a>
<a href="https://www.npmjs.com/package/roll-parser"><img src="https://img.shields.io/badge/npm-roll--parser-blue.svg" alt="Project is on npm"></a></p>
<h2>Documentation</h2><p>Please review the <a href="http://edloidas.io/roll-parser/">API documentation</a>.</p>
<h2>Install</h2><h4>Node:</h4><pre class="prettyprint source"><code>npm install roll-parser</code></pre><p>Then in the console or JS file:</p>
<pre class="prettyprint source lang-js"><code>const rollParser = require('roll-parser');</code></pre><h4>Browser:</h4><pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://unpkg.com/roll-parser/dist/roll-parser.js&quot;>&lt;/script></code></pre><p>Minified version:</p>
<pre class="prettyprint source lang-html"><code>&lt;script src=&quot;https://unpkg.com/roll-parser/dist/roll-parser.min.js&quot;>&lt;/script></code></pre><p>Then access all functions from <code>rollParser</code> object.</p>
<h4>Console:</h4><p>Install package globally:</p>
<pre class="prettyprint source lang-bash"><code>npm install -g roll-parser</code></pre><p>Then in the console:</p>
<pre class="prettyprint source lang-bash"><code>$ roll-parser [options] [&lt;rolls>]</code></pre><p>Run <code>roll-parser --help</code> for more details.</p>
<h2>Usage</h2><pre class="prettyprint source lang-js"><code>const { parse, roll, parseAndRoll, Roll } = require('roll-parser');

// `parse()` function parses any notation and returns `Roll` or `WodRoll` object
//=> { dice: 6, count: 4, modifier: 1 }
const parsedRoll = parse('4d6+1');

// `Roll` or `WodRoll` can be stringified
//=> '4d6+1'
const rollNotation = parsedRoll.toString();

//=> { notation: '4d6+1', value: 16, rolls: [3, 1, 6, 5] }
const result1 = roll(parsedRoll);
//=> { notation: '2d20-3', value: 23, rolls: [11, 15] }
const result2 = roll(new Roll(20, 2, -3));
// Can also accept plain objects
//=> { notation: '2d10>7', value: 1, rolls: [4, 8] }
const result3 = roll({dice: 10, count: 2, success: 7});

// `parseAndRoll()` function can parse any notation and then roll the dice
// Any invalid arguments, except `null` or `undefined`, will be parsed as default `Roll`
//=> { notation: '3d10!>8f1', value: 2, rolls: [3, 10, 7, 9] }
const result4 = parseAndRoll('3d10!>8f1');

//=> '(3d10!>8f1) 2 [3,10,7,9]'
const resultNotation = result4.toString();</code></pre><p>Specific parsers can be used.</p>
<p><strong>Classic (D&amp;D):</strong></p>
<pre class="prettyprint source lang-js"><code>const {
  parseClassicRoll,
  rollClassic,
  parseAndRollClassic,
  Roll
} = require('roll-parser');

//=> { dice: 10, count: 1, modifier: 0 }
const parsedRoll = parseClassicRoll('d10');

//=> { notation: 'd10', value: 7, rolls: [7] }
const result1 = rollClassic(parsedRoll);

//=> { notation: '2d20', value: 26, rolls: [11, 15] }
const result2 = rollClassic(new Roll(20, 2));

//=> { notation: '4d10+1', value: 22, rolls: [4, 6, 2, 9] }
const result3 = rollClassic({ dice: 10, count: 4, modifier: 1 });

//=> { notation: '3d6', value: 15, rolls: [6, 6, 3] }
const result4 = parseAndRollClassic('3d6');</code></pre><p><strong>WoD (World of Darkness):</strong></p>
<pre class="prettyprint source lang-js"><code>const {
  parseWodRoll,
  rollWod,
  parseAndRollWod,
  WodRoll
} = require('roll-parser');

//=> { dice: 10, count: 1, again: false, success: 6, fail: 0 }
const parsedRoll = parseWodRoll('d10>6');

// Returns notation, number of success rolls and list of all dice rolls
//=> { notation: 'd10', value: 1, rolls: [7] }
const result1 = rollWod(parsedRoll);

//=> { notation: '4d10>6f1', value: 1, rolls: [4, 10, 5, 2] }
const result2 = rollWod(new WodRoll(10, 4, false, 6, 1));

//=> { notation: '4d10!>8f1', value: 22, rolls: [1, 8, 5, 10, 10, 4] }
const result3 = rollWod({ dice: 10, count: 2, again: true, success: 8, fail: 1 });

//=> { notation: '4d10>7f4', value: 1, rolls: [6, 3, 8, 4] }
const result4 = parseAndRollWod('4d10>7f4');</code></pre><p><strong>Simple (D&amp;D, space-separated):</strong></p>
<pre class="prettyprint source lang-js"><code>const { parseSimpleRoll, parseAndRollSimple } = require('roll-parser');

//=> { dice: 10, count: 1, modifier: 0 }
const parsedRoll = parseSimpleRoll('10');

//=> { notation: '4d10-1', value: 23, rolls: [3, 6, 8, 7] }
const result = parseAndRollSimple('4 10 -1');</code></pre><p>Random number generator can be used to roll the dice.</p>
<pre class="prettyprint source lang-js"><code>const { random } = require('roll-parser');

//=> 84 - d100-like roll
random(100);

//=> 7 - d10-like roll
random(10);

//=> [2, 5, 2, 6] - 4d6-like roll
[...Array(4)].map(() => random(6));</code></pre><p>Even so the parse&amp;roll functions uses checks to convert non-standard objects to <code>Roll</code> or <code>WodRoll</code>, explicit conversion can be used in some cases:</p>
<pre class="prettyprint source lang-js"><code>const { convert } = require('roll-parser');

//=> new Roll(undefined, 4, -3)
convert({ count: 4, modifier: -3 });

//=> new WodRoll(10, 6, true, undefined, 2)
convert({ dice: 10, count: 6, again: true, fail: 2 });</code></pre><h2>Releases</h2><p>Please review the <a href="https://github.com/edloidas/roll-parser/releases">changelog</a>.</p>
<h2>Contributing</h2><p>♥ <a href="https://github.com/edloidas/roll-parser">roll-parser</a> and want to get involved?<br>
Please, check the <a href="CONTRIBUTING.md">guide</a> first.</p>
<h2>License</h2><p><a href="LICENSE">MIT</a> © <a href="https://edloidas.io">Mikita Taukachou</a></p>
<!-- Links --></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>